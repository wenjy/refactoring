# refactoring

## 代码的坏味道

### Duplicated Code（重复代码）

> 如果你在一个以上的地方看到相同的程序结构，那么肯定：设法将它们合而唯一，程序会变得更好

### Long Method（过长函数）

> 拥有短函数的对象会活得比较好，比较长。小型函数能带来的益处：解释能力、共享能力、选择能力。

> 让小函数容易理解的真正关键在于一个好名字。如果你能给函数起一个好名字，读者就可以通过名字了解函数的作用，根本不需要去看其中写了什么

> 每当感觉需要以注释来说明点什么的时候，我们就把需要说明的东西写进一个独立函数中，并以其用途（而非实现手法）命名

> 我们甚至可以对短短的一行代码做这件事情，关键不在于函数的长度，而在于函数"做什么"和"如何做"之间的语义距离

> 如果代码前方有一行注释，就是在提醒你：可以将这段代码替换成一个函数，而且可以在注释的基础上给这个函数命名

### Divergent Change（发散式变化）一个类受多种变化的影响

> 我们总是希望软件容易修改（开闭原则），类的单一职责，将总是一起变化的东西放一起

### Shotgun Surgery（散弹式修改）一种变化引起多个类相应修改

> 与Divergent Change相反，如果每遇到某种变化，你必须在许多不同的类做出许多小修改

### Feature Envy（依恋情结）

> 对象技术的要点在于：这是一种"将数据和对数据的操作行为包装在一起"的技术，有一种经典的气味是：函数对某个类
>的兴趣高过对自己所处类的兴趣，这种孺慕之情最通常的焦点便是数据

> 判断哪个类拥有最多被此函数使用的数据，然后就把这个函数和那些数据放在一起

### Data Clumps（数据泥团）

> 删除众多数据中的一项。这么做，其他数据有没有因而失去意义？如果它们不仔有意义，这就是一个明确的信号：你应该为它们产生一个新对象

> 一旦拥有新对象，你就有机会让程序散发出一种芳香
